<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <title>Weather</title>
  <!-- Favicon for all browsers -->
  <link rel="icon" type="image/png" href="favicon.png" />
  <!-- iOS specific favicon and app icons -->
  <link rel="apple-touch-icon" href="favicon.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="favicon.png" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-title" content="Weather" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Sharp:opsz,wght,FILL,GRAD@20,400,0,0" />
  <!-- Fuse.js for fuzzy searching -->
  <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2/dist/fuse.min.js"></script>
</head>
<body ontouchstart="">
  <!-- Logo in top left corner -->
  <div class="header">
    <div class="logo"></div>
    <div class="search-container">
      <input id="search-input" type="search" placeholder="Search" autocomplete="off" autocorrect="off" spellcheck="false" inputmode="text" />
      <button class="search-dismiss">
        <span class="material-symbols-sharp">close</span>
      </button>  
    </div>
  </div>

  <div class="search-results">
      <!-- Search results will appear here dynamically -->
  </div>

  <!-- Weather content -->
  <div class="weather-data">
    <div class="today">
      <div class="day-title">
        Today
      </div>
      <h1 class="pfi-value">--°</h1>
      <h1 class="comparison">Loading...<br>&nbsp;</h1>
      <!-- Precipitation indication for today -->
      <div class="precipitation-today" style="display: none;">
        <span class="precipitation-icon"></span>
        <span class="precipitation-label"></span>
      </div>
      <!-- Hazard warning for today -->
      <div class="hazard-today" style="display: none;">
        <span class="hazard-icon"></span>
        <span class="hazard-label"></span>
      </div>
    </div>
    <div class="week-days">
      <div class="day-item">
        <div class="day-name">-</div>
        <div class="day-pfi">--°</div>
        <!-- Precipitation icon for week view -->
        <div class="precipitation-week" style="display: none;">
          <span class="precipitation-icon"></span>
        </div>
        <!-- Hazard icon for week view -->
        <div class="hazard-week" style="display: none;">
          <span class="hazard-icon"></span>
        </div>
      </div>
      <div class="day-item">
        <div class="day-name">-</div>
        <div class="day-pfi">--°</div>
        <!-- Precipitation icon for week view -->
        <div class="precipitation-week" style="display: none;">
          <span class="precipitation-icon"></span>
        </div>
        <!-- Hazard icon for week view -->
        <div class="hazard-week" style="display: none;">
          <span class="hazard-icon"></span>
        </div>
      </div>
      <div class="day-item">
        <div class="day-name">-</div>
        <div class="day-pfi">--°</div>
        <!-- Precipitation icon for week view -->
        <div class="precipitation-week" style="display: none;">
          <span class="precipitation-icon"></span>
        </div>
        <!-- Hazard icon for week view -->
        <div class="hazard-week" style="display: none;">
          <span class="hazard-icon"></span>
        </div>
      </div>
      <div class="day-item">
        <div class="day-name">-</div>
        <div class="day-pfi">--°</div>
        <!-- Precipitation icon for week view -->
        <div class="precipitation-week" style="display: none;">
          <span class="precipitation-icon"></span>
        </div>
        <!-- Hazard icon for week view -->
        <div class="hazard-week" style="display: none;">
          <span class="hazard-icon"></span>
        </div>
      </div>
      <div class="day-item">
        <div class="day-name">-</div>
        <div class="day-pfi">--°</div>
        <!-- Precipitation icon for week view -->
        <div class="precipitation-week" style="display: none;">
          <span class="precipitation-icon"></span>
        </div>
        <!-- Hazard icon for week view -->
        <div class="hazard-week" style="display: none;">
          <span class="hazard-icon"></span>
        </div>
      </div>
      <div class="day-item">
        <div class="day-name">-</div>
        <div class="day-pfi">--°</div>
        <!-- Precipitation icon for week view -->
        <div class="precipitation-week" style="display: none;">
          <span class="precipitation-icon"></span>
        </div>
        <!-- Hazard icon for week view -->
        <div class="hazard-week" style="display: none;">
          <span class="hazard-icon"></span>
        </div>
      </div>

    </div>
  </div>
  
  <!-- Error message -->
  <div id="error" class="error" style="display: none;"></div>
  
  <!-- Retry button -->
  <div id="retry" class="retry" style="display: none;">
    <button onclick="retryApp()">Retry</button>
  </div>

  <!-- JavaScript for weather logic -->
  <script src="mockConfig.js?v=4"></script>
  <script src="script.js?v=4"></script>
  
  <!-- Detect if running as shortcut and apply appropriate styling -->
  <script>
    // Check if running as a shortcut (standalone mode)
    if (window.navigator.standalone || window.matchMedia('(display-mode: standalone)').matches) {
      document.body.classList.add('shortcut-mode');
    } else {
      document.body.classList.add('browser-mode');
    }
  </script>
</body>
</html>